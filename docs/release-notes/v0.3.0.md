# Release v0.3.0

Released: 2026-01-31

## Summary

This release introduces major enhancements to Kthena's ModelServing, Router, and ModelBooster, along with significant infrastructure improvements. Key highlights include **LeaderWorkerSet integration**, **Role-level gang scheduling** with network topology awareness, and a **comprehensive E2E test framework** for the Router. Additionally, it brings **ModelServing version control**, **vLLM data parallel deployment**, and improved stability.

*Note: This release includes a breaking change to the PodGroup API.*

## Key Features

### ModelServing

- **LeaderWorkerSet Support**: Integration with the **LeaderWorkerSet (LWS)** API allows for sophisticated management of distributed inference workloads. This feature is crucial for models requiring strict leader-worker coordination, enabling Kthena to orchestrate complex model runtime topologies directly (#407, #683).
- **Role-Level Gang Scheduling & Topology Awareness**: Kthena now leverages Volcano's new `subGroupPolicy` feature to enable fine-grained, **role-based gang scheduling** and **network topology awareness**. This capability allows users to configure topology constraints for specific Roles, which is a game-changer for **Prefill-Decode (PD) separation** scenarios. It ensures that frequently communicating pods are scheduled on nodes with high-bandwidth interconnects, maximizing resource utilization and inference performance.
- **Version Control**: Introduced a native revision-based version control system for ModelServing. This feature tracks configuration changes over time, enabling safe rollouts, easier auditing, and the ability to seamlessly rollback to previous stable configurations if needed.
- **Faster Rolling Updates**: Enhanced the rolling update strategy by updating the `maxUnavailable` parameter support. Users can now tune the velocity of updates, allowing for faster rollout of new model versions by permitting a configurable number of replicas to be unavailable during the process.
- **Plugin Support**: Added a flexible plugin architecture to the ModelServing controller. This allows users to inject custom configuration logic and extend the behavior of the controller without modifying core code, easing integration with internal platforms or specific hardware requirements.
- **HPA Support**: ModelServing resources now expose a standard Kubernetes `scale` subresource. This enables seamless integration with **Horizontal Pod Autoscalers (HPA)**, allowing inference workloads to automatically scale based on metrics like QPS or GPU utilization (#564).

### Router

- **Debug Port**: Added a dedicated debug port (default `15000`) for real-time inspection.
- **Observability Framework**: Comprehensive documentation and framework for router observability, providing deep visibility into inference performance.
- **E2E Test Framework**: Constructed a complete E2E test framework covering most scenarios, ensuring the router's reliability and stability.

### ModelBooster

- **vLLM Data Parallel Deployment**: Enhanced support for vLLM with data parallel deployment modes, improving scalability.
- **PD Disaggregation Templates**: Added templates specifically for Prefill-Decode disaggregation use cases ([Issue #571](https://github.com/volcano-sh/kthena/issues/571)).

### Infrastructure

- **Enhanced Stability**: Significant improvements to the stability and development of the underlying infrastructure.

## Breaking Changes

### PodGroup API Update

The `PodGroup` API (imported from Volcano) has changed. The field `minTaskMember` has been replaced by `subGroupSize` in Gang scheduling policies (Issue #532).

**Action Required**:
Update your `PodGroup` manifests to use `subGroupSize`:

```yaml
spec:
  subGroupSize: 1  # Replaces minTaskMember
```

## Other Improvements

- **Client Performance**: Added ability to customize client QPS and Burst settings (#686).
- **One-Click Deploy**: Enhanced `hack/local-up-kthena.sh` for easy source deployment.
- **Controller Flags**: Added `--controllers` flag to selectively start controllers.
- **Webhooks**: Enabled `ModelServing` webhooks by default in Helm charts (#694).
- **Service Naming**: Renamed services to use `kthena-` prefix for consistency.

## Bug Fixes

- **Stability**: Fixed multiple panic scenarios in the scheduler and controller (#714, #703, #688).
- **Recovery**: Fixed issues where failed pods were not correctly recovered after controller restart (#697) and Role status transition issues (#706).
- **Controller Crash**: Fixed an issue where `kthena-controller-manager` failed to list ModelRoute CRDs when networking was disabled (#567).
- **Headless Service**: Fixed an issue where headless services would not recover after deletion (#169).
- **Scheduling**: Fixed a divide-by-zero error in `LeastRequest` scoring algorithm (#723).

## Contributors

Thank you to all contributors who made this release possible:

@hzxuzhonghu, @LiZhenCheng9527, @YaoZengzeng, @git-malu, @FAUST-BENCHOU, @katara-Jayprakash, @zhiweideren, @aaradhychinche-alt, @WHOIM1205, @yashisrani
