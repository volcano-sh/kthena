workload:
  # enabled is a flag to enable or disable the workload subchart. Default is true.
  enabled: true
  controllerManager:
    image:
      repository: ghcr.io/volcano-sh/kthena-controller-manager
      tag: latest
      pullPolicy: IfNotPresent
    downloaderImage:
      repository: ghcr.io/volcano-sh/downloader
      tag: latest
    runtimeImage:
      repository: ghcr.io/volcano-sh/runtime
      tag: latest
    webhook:
      enabled: true
      tls:
        autoGenerateCert: true
        certSecretName: kthena-controller-manager-webhook-certs
        serviceName: kthena-controller-manager-webhook

networking:
  # enabled is a flag to enable or disable the networking subchart. Default is true.
  enabled: true
  kthenaRouter:
    enabled: true
    port: 8080
    image:
      repository: ghcr.io/volcano-sh/kthena-router
      tag: latest
      pullPolicy: IfNotPresent
    tls:
      enabled: false
      # The DNS name to use for the certificate.
      dnsName: "your-domain.com"
      # The name of the secret to store the certificate and key.
      secretName: "kthena-router-tls"
    webhook:
      enabled: true
      port: 8443
      servicePort: 443
      tls:
        certFile: /etc/tls/tls.crt
        keyFile: /etc/tls/tls.key
        secretName: kthena-router-webhook-certs
    # fairness configuration for request scheduling
    fairness:
      # enabled controls whether fairness scheduling is active
      enabled: false
      # windowSize is the sliding window duration for token usage tracking
      windowSize: "1h"
      # inputTokenWeight is the weight multiplier for input tokens
      inputTokenWeight: 1.0
      # outputTokenWeight is the weight multiplier for output tokens
      outputTokenWeight: 2.0

global:
  webhook:
    # caBundle is the base64-encoded CA bundle for webhook server certificates.
    # This is ONLY required when BOTH cert-manager AND auto-generate-cert are disabled.
    # You can generate it with: cat /path/to/your/ca.crt | base64 | tr -d '\n'
    #
    # Certificate Management Options (mutually exclusive):
    # 1. auto-generate-cert (default): Webhook servers generate self-signed certificates automatically
    # 2. cert-manager: Use cert-manager to generate and manage certificates (requires cert-manager installation)
    # 3. manual: Provide your own certificates via caBundle (requires both cert-manager and auto-generate-cert to be disabled)
    caBundle: ""
